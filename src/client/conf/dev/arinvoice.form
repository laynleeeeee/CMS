
#DescriptioN	: AR invoice form workflow and report configuration file

ArInvoice1.typeId=1
ArInvoice1.form=arInvoice/1/view
ArInvoice1.edit=ar_invoice_edit
ArInvoice1.print=arInvoice/1/pdf
ArInvoice1.service=eulap.eb.service.ArInvoiceService
ArInvoice1.oo.parent_to_child=1
ArInvoice1.oo.child_to_child=12007
ArInvoice1.flow=1;2
ArInvoice1.1.statusId=9
ArInvoice1.1.required=
ArInvoice1.1.next=2
ArInvoice1.1.product_code=12004
ArInvoice1.1.module_code=8
ArInvoice1.2.statusId=3
ArInvoice1.2.required=1
ArInvoice1.2.next=0
ArInvoice1.2.product_code=12004
ArInvoice1.2.module_code=16
ArInvoice1.sql.entries=1;2;3;4;5;6;7;8
# Sales
ArInvoice1.sql.1.je=SELECT 'AR INVOICE - GOODS' as SOURCE, AR.AR_INVOICE_ID as ID, AC.COMPANY_ID, AC.DIVISION_ID, A.ACCOUNT_ID, \
	D.NUMBER AS DIVISION_NO, D.NAME AS DIVISION_NAME, A.NUMBER as ACCT_NO, A.ACCOUNT_NAME, AR.DATE as GL_DATE, \
	CONCAT('AR', AR.SEQUENCE_NO) as REFERENCE_NUMBER, AR.REMARKS AS DESCRIPTION, \
	0 AS DEBIT, ARI.QUANTITY * ARI.SRP as CREDIT, \
	FW.FORM_WORKFLOW_ID, FW.CURRENT_STATUS_ID, FW.IS_COMPLETE, FW.IS_COMPLETE as IS_POSTED, '' AS CUSTOMER_PO_NO, A.ACCOUNT_TYPE_ID \
	FROM AR_INVOICE_ITEM ARI \
	INNER JOIN AR_INVOICE AR ON AR.AR_INVOICE_ID = ARI.AR_INVOICE_ID \
	INNER JOIN ITEM I ON I.ITEM_ID = ARI.ITEM_ID \
	INNER JOIN ITEM_CATEGORY_ACCOUNT_SETUP ICAS ON I.ITEM_CATEGORY_ID = ICAS.ITEM_CATEGORY_ID \
	INNER JOIN ACCOUNT_COMBINATION AC ON (AC.ACCOUNT_COMBINATION_ID = ICAS.SALES_ACCOUNT AND AC.COMPANY_ID = AR.COMPANY_ID) \
	INNER JOIN DIVISION D ON D.DIVISION_ID = AC.DIVISION_ID \
	INNER JOIN ACCOUNT A ON A.ACCOUNT_ID = AC.ACCOUNT_ID \
	INNER JOIN FORM_WORKFLOW FW ON FW.FORM_WORKFLOW_ID = AR.FORM_WORKFLOW_ID \
	WHERE FW.CURRENT_STATUS_ID != 4 \
	AND AR.AR_INVOICE_TYPE_ID = 1 \
	AND ICAS.COMPANY_ID = AC.COMPANY_ID \
	AND AC.COMPANY_ID = IN_COMPANY_ID
ArInvoice1.sql.2.je=SELECT 'AR INVOICE - GOODS' as SOURCE, AR.AR_INVOICE_ID as ID, AC.COMPANY_ID, AC.DIVISION_ID, A.ACCOUNT_ID, \
	D.NUMBER AS DIVISION_NO, D.NAME AS DIVISION_NAME, A.NUMBER as ACCT_NO, A.ACCOUNT_NAME, AR.DATE as GL_DATE, \
	CONCAT('AR', AR.SEQUENCE_NO) as REFERENCE_NUMBER, AR.REMARKS AS DESCRIPTION, \
	0 AS DEBIT, ARI.QUANTITY * ARI.SRP as CREDIT, \
	FW.FORM_WORKFLOW_ID, FW.CURRENT_STATUS_ID, FW.IS_COMPLETE, FW.IS_COMPLETE as IS_POSTED, '' AS CUSTOMER_PO_NO, A.ACCOUNT_TYPE_ID \
	FROM SERIAL_ITEM ARI \
	INNER JOIN OBJECT_TO_OBJECT OO ON OO.TO_OBJECT_ID = ARI.EB_OBJECT_ID \
	INNER JOIN AR_INVOICE AR ON AR.EB_OBJECT_ID = OO.FROM_OBJECT_ID \
	INNER JOIN ITEM I ON I.ITEM_ID = ARI.ITEM_ID \
	INNER JOIN ITEM_CATEGORY_ACCOUNT_SETUP ICAS ON I.ITEM_CATEGORY_ID = ICAS.ITEM_CATEGORY_ID \
	INNER JOIN ACCOUNT_COMBINATION AC ON (AC.ACCOUNT_COMBINATION_ID = ICAS.SALES_ACCOUNT AND AC.COMPANY_ID = AR.COMPANY_ID) \
	INNER JOIN DIVISION D ON D.DIVISION_ID = AC.DIVISION_ID \
	INNER JOIN ACCOUNT A ON A.ACCOUNT_ID = AC.ACCOUNT_ID \
	INNER JOIN FORM_WORKFLOW FW ON FW.FORM_WORKFLOW_ID = AR.FORM_WORKFLOW_ID \
	WHERE FW.CURRENT_STATUS_ID != 4 \
	AND AR.AR_INVOICE_TYPE_ID = 1 \
	AND OO.OR_TYPE_ID = 12006 \
	AND ARI.ACTIVE = 1 \
	AND ICAS.COMPANY_ID = AC.COMPANY_ID \
	AND AC.COMPANY_ID = IN_COMPANY_ID
# Discount
ArInvoice1.sql.3.je=SELECT 'AR INVOICE - GOODS' as SOURCE, AR.AR_INVOICE_ID as ID, AC.COMPANY_ID, AC.DIVISION_ID, A.ACCOUNT_ID, \
	D.NUMBER AS DIVISION_NO, D.NAME AS DIVISION_NAME, A.NUMBER as ACCT_NO, A.ACCOUNT_NAME, AR.DATE as GL_DATE, \
	CONCAT('AR', AR.SEQUENCE_NO) as REFERENCE_NUMBER, AR.REMARKS AS DESCRIPTION, \
	COALESCE(ARI.DISCOUNT, 0) AS DEBIT, 0 as CREDIT, \
	FW.FORM_WORKFLOW_ID, FW.CURRENT_STATUS_ID, FW.IS_COMPLETE, FW.IS_COMPLETE as IS_POSTED, '' AS CUSTOMER_PO_NO, A.ACCOUNT_TYPE_ID \
	FROM AR_INVOICE_ITEM ARI \
	INNER JOIN AR_INVOICE AR ON AR.AR_INVOICE_ID = ARI.AR_INVOICE_ID \
	INNER JOIN ITEM I ON I.ITEM_ID = ARI.ITEM_ID \
	INNER JOIN ITEM_CATEGORY_ACCOUNT_SETUP ICAS ON I.ITEM_CATEGORY_ID = ICAS.ITEM_CATEGORY_ID \
	INNER JOIN ACCOUNT_COMBINATION AC ON (AC.ACCOUNT_COMBINATION_ID = ICAS.SALES_DISCOUNT_ACCOUNT AND AC.COMPANY_ID = AR.COMPANY_ID) \
	INNER JOIN DIVISION D ON D.DIVISION_ID = AC.DIVISION_ID \
	INNER JOIN ACCOUNT A ON A.ACCOUNT_ID = AC.ACCOUNT_ID \
	INNER JOIN FORM_WORKFLOW FW ON FW.FORM_WORKFLOW_ID = AR.FORM_WORKFLOW_ID \
	WHERE ARI.DISCOUNT IS NOT NULL \
	AND ICAS.COMPANY_ID = AC.COMPANY_ID \
	AND FW.CURRENT_STATUS_ID != 4 \
	AND AR.AR_INVOICE_TYPE_ID = 1 \
	AND AC.COMPANY_ID = IN_COMPANY_ID
ArInvoice1.sql.4.je=SELECT 'AR INVOICE - GOODS' as SOURCE, AR.AR_INVOICE_ID as ID, AC.COMPANY_ID, AC.DIVISION_ID, A.ACCOUNT_ID, \
	D.NUMBER AS DIVISION_NO, D.NAME AS DIVISION_NAME, A.NUMBER as ACCT_NO, A.ACCOUNT_NAME, AR.DATE as GL_DATE, \
	CONCAT('AR', AR.SEQUENCE_NO) as REFERENCE_NUMBER, AR.REMARKS AS DESCRIPTION, \
	COALESCE(ARI.DISCOUNT, 0) AS DEBIT, 0 as CREDIT, \
	FW.FORM_WORKFLOW_ID, FW.CURRENT_STATUS_ID, FW.IS_COMPLETE, FW.IS_COMPLETE as IS_POSTED, '' AS CUSTOMER_PO_NO, A.ACCOUNT_TYPE_ID \
	FROM SERIAL_ITEM ARI \
	INNER JOIN OBJECT_TO_OBJECT OO ON OO.TO_OBJECT_ID = ARI.EB_OBJECT_ID \
	INNER JOIN AR_INVOICE AR ON AR.EB_OBJECT_ID = OO.FROM_OBJECT_ID \
	INNER JOIN ITEM I ON I.ITEM_ID = ARI.ITEM_ID \
	INNER JOIN ITEM_CATEGORY_ACCOUNT_SETUP ICAS ON I.ITEM_CATEGORY_ID = ICAS.ITEM_CATEGORY_ID \
	INNER JOIN ACCOUNT_COMBINATION AC ON (AC.ACCOUNT_COMBINATION_ID = ICAS.SALES_DISCOUNT_ACCOUNT AND AC.COMPANY_ID = AR.COMPANY_ID) \
	INNER JOIN DIVISION D ON D.DIVISION_ID = AC.DIVISION_ID \
	INNER JOIN ACCOUNT A ON A.ACCOUNT_ID = AC.ACCOUNT_ID \
	INNER JOIN FORM_WORKFLOW FW ON FW.FORM_WORKFLOW_ID = AR.FORM_WORKFLOW_ID \
	WHERE FW.CURRENT_STATUS_ID != 4 \
	AND AR.AR_INVOICE_TYPE_ID = 1 \
	AND OO.OR_TYPE_ID = 12006 \
	AND ARI.ACTIVE = 1 \
	AND ARI.DISCOUNT IS NOT NULL \
	AND ICAS.COMPANY_ID = AC.COMPANY_ID \
	AND AC.COMPANY_ID = IN_COMPANY_ID
# AR customer default debit
ArInvoice1.sql.5.je=SELECT 'AR INVOICE - GOODS' as SOURCE, AR.AR_INVOICE_ID as ID, AC.COMPANY_ID, AC.DIVISION_ID, A.ACCOUNT_ID, \
	D.NUMBER AS DIVISION_NO, D.NAME AS DIVISION_NAME, A.NUMBER as ACCT_NO, A.ACCOUNT_NAME, AR.DATE as GL_DATE, \
	CONCAT('AR', AR.SEQUENCE_NO) as REFERENCE_NUMBER, AR.REMARKS AS DESCRIPTION, AR.AMOUNT AS DEBIT, 0 as CREDIT, \
	FW.FORM_WORKFLOW_ID, FW.CURRENT_STATUS_ID, FW.IS_COMPLETE, FW.IS_COMPLETE as IS_POSTED, '' AS CUSTOMER_PO_NO, A.ACCOUNT_TYPE_ID \
	FROM AR_INVOICE AR \
	INNER JOIN AR_CUSTOMER_ACCOUNT ACA ON ACA.AR_CUSTOMER_ACCOUNT_ID = AR.AR_CUSTOMER_ACCOUNT_ID \
	INNER JOIN ACCOUNT_COMBINATION AC ON (AC.ACCOUNT_COMBINATION_ID = ACA.DEFAULT_DEBIT_AC_ID AND AC.COMPANY_ID = AR.COMPANY_ID) \
	INNER JOIN DIVISION D ON D.DIVISION_ID = AC.DIVISION_ID \
	INNER JOIN ACCOUNT A ON A.ACCOUNT_ID = AC.ACCOUNT_ID \
	INNER JOIN FORM_WORKFLOW FW ON AR.FORM_WORKFLOW_ID = FW.FORM_WORKFLOW_ID \
	WHERE FW.CURRENT_STATUS_ID != 4 \
	AND AR.AR_INVOICE_TYPE_ID = 1 \
	AND AR.COMPANY_ID = AC.COMPANY_ID \
	AND AC.COMPANY_ID = IN_COMPANY_ID
# VAT
ArInvoice1.sql.6.je=SELECT 'AR INVOICE - GOODS' as SOURCE, AR.AR_INVOICE_ID as ID, AC.COMPANY_ID, AC.DIVISION_ID, A.ACCOUNT_ID, \
	D.NUMBER AS DIVISION_NO, D.NAME AS DIVISION_NAME, A.NUMBER as ACCT_NO, A.ACCOUNT_NAME, AR.DATE as GL_DATE, \
	CONCAT('AR', AR.SEQUENCE_NO) as REFERENCE_NUMBER, AR.REMARKS AS DESCRIPTION, 0 AS DEBIT, \
	COALESCE(ARI.VAT_AMOUNT, 0) as CREDIT, FW.FORM_WORKFLOW_ID, FW.CURRENT_STATUS_ID, FW.IS_COMPLETE, \
	FW.IS_COMPLETE as IS_POSTED, '' AS CUSTOMER_PO_NO, A.ACCOUNT_TYPE_ID \
	FROM AR_INVOICE_ITEM ARI \
	INNER JOIN AR_INVOICE AR ON AR.AR_INVOICE_ID = ARI.AR_INVOICE_ID \
	INNER JOIN VAT_ACCOUNT_SETUP VAS ON IF(AR.DIVISION_ID IS NOT NULL, \
	(VAS.COMPANY_ID = AR.COMPANY_ID AND VAS.DIVISION_ID = AR.DIVISION_ID), VAS.COMPANY_ID = AR.COMPANY_ID) \
	INNER JOIN ACCOUNT_COMBINATION AC ON AC.ACCOUNT_COMBINATION_ID = VAS.OUTPUT_VAT_AC_ID \
	INNER JOIN DIVISION D ON D.DIVISION_ID = AC.DIVISION_ID \
	INNER JOIN ACCOUNT A ON A.ACCOUNT_ID = AC.ACCOUNT_ID \
	INNER JOIN FORM_WORKFLOW FW ON FW.FORM_WORKFLOW_ID = AR.FORM_WORKFLOW_ID \
	WHERE FW.CURRENT_STATUS_ID != 4 \
	AND AR.AR_INVOICE_TYPE_ID = 1 \
	AND ARI.TAX_TYPE_ID IN (1, 4, 5, 6) \
	AND AR.COMPANY_ID = IN_COMPANY_ID
ArInvoice1.sql.7.je=SELECT 'AR INVOICE - GOODS' as SOURCE, AR.AR_INVOICE_ID as ID, AC.COMPANY_ID, AC.DIVISION_ID, A.ACCOUNT_ID, \
	D.NUMBER AS DIVISION_NO, D.NAME AS DIVISION_NAME, A.NUMBER as ACCT_NO, A.ACCOUNT_NAME, AR.DATE as GL_DATE, \
	CONCAT('AR', AR.SEQUENCE_NO) as REFERENCE_NUMBER, AR.REMARKS AS DESCRIPTION, 0 AS DEBIT, \
	COALESCE(ARI.VAT_AMOUNT, 0) as CREDIT, FW.FORM_WORKFLOW_ID, FW.CURRENT_STATUS_ID, FW.IS_COMPLETE, \
	FW.IS_COMPLETE as IS_POSTED, '' AS CUSTOMER_PO_NO, A.ACCOUNT_TYPE_ID \
	FROM SERIAL_ITEM ARI \
	INNER JOIN OBJECT_TO_OBJECT OO ON OO.TO_OBJECT_ID = ARI.EB_OBJECT_ID \
	INNER JOIN AR_INVOICE AR ON AR.EB_OBJECT_ID = OO.FROM_OBJECT_ID \
	INNER JOIN VAT_ACCOUNT_SETUP VAS ON IF(AR.DIVISION_ID IS NOT NULL, \
	(VAS.COMPANY_ID = AR.COMPANY_ID AND VAS.DIVISION_ID = AR.DIVISION_ID), VAS.COMPANY_ID = AR.COMPANY_ID) \
	INNER JOIN ACCOUNT_COMBINATION AC ON AC.ACCOUNT_COMBINATION_ID = VAS.OUTPUT_VAT_AC_ID \
	INNER JOIN DIVISION D ON D.DIVISION_ID = AC.DIVISION_ID \
	INNER JOIN ACCOUNT A ON A.ACCOUNT_ID = AC.ACCOUNT_ID \
	INNER JOIN FORM_WORKFLOW FW ON FW.FORM_WORKFLOW_ID = AR.FORM_WORKFLOW_ID \
	WHERE FW.CURRENT_STATUS_ID != 4 \
	AND AR.AR_INVOICE_TYPE_ID = 1 \
	AND OO.OR_TYPE_ID = 12006 \
	AND ARI.TAX_TYPE_ID IN (1, 4, 5, 6) \
	AND ARI.ACTIVE = 1 \
	AND AR.COMPANY_ID = IN_COMPANY_ID
# Withholding Tax
ArInvoice1.sql.8.je=SELECT 'AR INVOICE - GOODS' as SOURCE, AR.AR_INVOICE_ID as ID, AC.COMPANY_ID, AC.DIVISION_ID, AC.ACCOUNT_ID, \
	D.NUMBER AS DIVISION_NO, D.NAME AS DIVISION_NAME, A.NUMBER as ACCT_NO, A.ACCOUNT_NAME, AR.DATE as GL_DATE, \
	CONCAT('AR', AR.SEQUENCE_NO) as REFERENCE_NUMBER, AR.REMARKS AS DESCRIPTION, AR.WT_AMOUNT AS DEBIT, 0 as CREDIT, \
	FW.FORM_WORKFLOW_ID, FW.CURRENT_STATUS_ID, FW.IS_COMPLETE, FW.IS_COMPLETE as IS_POSTED, '' AS CUSTOMER_PO_NO, A.ACCOUNT_TYPE_ID \
	FROM AR_INVOICE AR \
	INNER JOIN WT_ACCOUNT_SETTING WTAS ON WTAS.WT_ACCOUNT_SETTING_ID = AR.WT_ACCOUNT_SETTING_ID \
	INNER JOIN ACCOUNT_COMBINATION AC ON AC.ACCOUNT_COMBINATION_ID = WTAS.ACCOUNT_COMBINATION_ID \
	INNER JOIN DIVISION D ON D.DIVISION_ID = AC.DIVISION_ID \
	INNER JOIN ACCOUNT A ON A.ACCOUNT_ID = AC.ACCOUNT_ID \
	INNER JOIN FORM_WORKFLOW FW ON AR.FORM_WORKFLOW_ID = FW.FORM_WORKFLOW_ID \
	WHERE FW.CURRENT_STATUS_ID != 4 \
	AND AR.AR_INVOICE_TYPE_ID = 1 \
	AND AR.WT_ACCOUNT_SETTING_ID IS NOT NULL \
	AND AR.COMPANY_ID = IN_COMPANY_ID
ArInvoice1.sql.je.jerr=AND AR.DATE BETWEEN DATE_FROM AND DATE_TO \
	AND (CASE WHEN IN_REFERENCE_NUMBER NOT LIKE '-1' THEN CONCAT('AR', AR.SEQUENCE_NO) LIKE IN_REFERENCE_NUMBER \
		ELSE IN_REFERENCE_NUMBER LIKE IN_REFERENCE_NUMBER END) \
	AND (CASE IN_SOURCE WHEN 'AR INVOICE - GOODS' THEN AR.AR_INVOICE_ID != 0 \
		WHEN 'ALL' THEN AR.AR_INVOICE_ID != 0 \
		ELSE AR.AR_INVOICE_ID = 0 END) \
	AND (CASE WHEN IN_IS_POSTED != -1 THEN FW.IS_COMPLETE = IN_IS_POSTED ELSE FW.IS_COMPLETE != IN_IS_POSTED END)
ArInvoice1.sql.je.ab=AND AR.DATE <= IN_AS_OF_DATE \
	AND FW.IS_COMPLETE = 1
ArInvoice1.sql.je.aa=AND D.NUMBER BETWEEN IN_FROM_DIVISION AND IN_TO_DIVISION \
	AND AC.ACCOUNT_ID = IN_ACCOUNT_ID \
	AND AR.DATE BETWEEN DATE_FROM AND DATE_TO \
	AND AR.REMARKS LIKE IN_DESCRIPTION \
	AND FW.IS_COMPLETE = 1
ArInvoice1.sql.je.gll=AND AC.ACCOUNT_ID = IN_ACCOUNT_ID \
	AND AR.DATE BETWEEN DATE_FROM AND DATE_TO \
	AND FW.IS_COMPLETE = 1
# Configuration for IS and BS by division
ArInvoice1.sql.1.isbs=SELECT D.NAME AS DIVISION_NAME, D.DIVISION_ID, A.ACCOUNT_NAME, A.ACCOUNT_ID, A.PARENT_ACCOUNT_ID, \
	0 as DEBIT, (ARI.QUANTITY * ARI.SRP) as CREDIT, AT.ACCOUNT_TYPE_ID, A.NUMBER as ACCT_NO, AR.DATE AS DATE \
	FROM AR_INVOICE_ITEM ARI \
	INNER JOIN AR_INVOICE AR ON AR.AR_INVOICE_ID = ARI.AR_INVOICE_ID \
	INNER JOIN ITEM I ON I.ITEM_ID = ARI.ITEM_ID \
	INNER JOIN ITEM_CATEGORY_ACCOUNT_SETUP ICAS ON I.ITEM_CATEGORY_ID = ICAS.ITEM_CATEGORY_ID \
	INNER JOIN ACCOUNT_COMBINATION AC ON (AC.ACCOUNT_COMBINATION_ID = ICAS.SALES_ACCOUNT AND AC.COMPANY_ID = AR.COMPANY_ID) \
	INNER JOIN DIVISION D ON D.DIVISION_ID = AC.DIVISION_ID \
	INNER JOIN ACCOUNT A ON A.ACCOUNT_ID = AC.ACCOUNT_ID \
	INNER JOIN ACCOUNT_TYPE AT ON AT.ACCOUNT_TYPE_ID = A.ACCOUNT_TYPE_ID \
	INNER JOIN FORM_WORKFLOW FW ON FW.FORM_WORKFLOW_ID = AR.FORM_WORKFLOW_ID \
	WHERE FW.CURRENT_STATUS_ID != 4 \
	AND AR.AR_INVOICE_TYPE_ID = 1 \
	AND ICAS.COMPANY_ID = AC.COMPANY_ID \
	AND AC.COMPANY_ID = IN_COMPANY_ID
ArInvoice1.sql.2.isbs=SELECT D.NAME AS DIVISION_NAME, D.DIVISION_ID, A.ACCOUNT_NAME, A.ACCOUNT_ID, A.PARENT_ACCOUNT_ID, \
	0 as DEBIT, (ARI.QUANTITY * ARI.SRP) as CREDIT, AT.ACCOUNT_TYPE_ID, A.NUMBER as ACCT_NO, AR.DATE AS DATE \
	FROM SERIAL_ITEM ARI \
	INNER JOIN OBJECT_TO_OBJECT OO ON OO.TO_OBJECT_ID = ARI.EB_OBJECT_ID \
	INNER JOIN AR_INVOICE AR ON AR.EB_OBJECT_ID = OO.FROM_OBJECT_ID \
	INNER JOIN ITEM I ON I.ITEM_ID = ARI.ITEM_ID \
	INNER JOIN ITEM_CATEGORY_ACCOUNT_SETUP ICAS ON I.ITEM_CATEGORY_ID = ICAS.ITEM_CATEGORY_ID \
	INNER JOIN ACCOUNT_COMBINATION AC ON (AC.ACCOUNT_COMBINATION_ID = ICAS.SALES_ACCOUNT AND AC.COMPANY_ID = AR.COMPANY_ID) \
	INNER JOIN DIVISION D ON D.DIVISION_ID = AC.DIVISION_ID \
	INNER JOIN ACCOUNT A ON A.ACCOUNT_ID = AC.ACCOUNT_ID \
	INNER JOIN ACCOUNT_TYPE AT ON AT.ACCOUNT_TYPE_ID = A.ACCOUNT_TYPE_ID \
	INNER JOIN FORM_WORKFLOW FW ON FW.FORM_WORKFLOW_ID = AR.FORM_WORKFLOW_ID \
	WHERE FW.CURRENT_STATUS_ID != 4 \
	AND AR.AR_INVOICE_TYPE_ID = 1 \
	AND OO.OR_TYPE_ID = 12006 \
	AND ARI.ACTIVE = 1 \
	AND ICAS.COMPANY_ID = AC.COMPANY_ID \
	AND AC.COMPANY_ID = IN_COMPANY_ID
# Discount
ArInvoice1.sql.3.isbs=SELECT D.NAME AS DIVISION_NAME, D.DIVISION_ID, A.ACCOUNT_NAME, A.ACCOUNT_ID, A.PARENT_ACCOUNT_ID, \
	COALESCE(ARI.DISCOUNT, 0) as DEBIT, 0 as CREDIT, AT.ACCOUNT_TYPE_ID, A.NUMBER as ACCT_NO, AR.DATE AS DATE \
	FROM AR_INVOICE_ITEM ARI \
	INNER JOIN AR_INVOICE AR ON AR.AR_INVOICE_ID = ARI.AR_INVOICE_ID \
	INNER JOIN ITEM I ON I.ITEM_ID = ARI.ITEM_ID \
	INNER JOIN ITEM_CATEGORY_ACCOUNT_SETUP ICAS ON I.ITEM_CATEGORY_ID = ICAS.ITEM_CATEGORY_ID \
	INNER JOIN ACCOUNT_COMBINATION AC ON (AC.ACCOUNT_COMBINATION_ID = ICAS.SALES_DISCOUNT_ACCOUNT AND AC.COMPANY_ID = AR.COMPANY_ID) \
	INNER JOIN DIVISION D ON D.DIVISION_ID = AC.DIVISION_ID \
	INNER JOIN ACCOUNT A ON A.ACCOUNT_ID = AC.ACCOUNT_ID \
	INNER JOIN ACCOUNT_TYPE AT ON AT.ACCOUNT_TYPE_ID = A.ACCOUNT_TYPE_ID \
	INNER JOIN FORM_WORKFLOW FW ON FW.FORM_WORKFLOW_ID = AR.FORM_WORKFLOW_ID \
	WHERE ARI.DISCOUNT IS NOT NULL \
	AND ICAS.COMPANY_ID = AC.COMPANY_ID \
	AND FW.CURRENT_STATUS_ID != 4 \
	AND AR.AR_INVOICE_TYPE_ID = 1 \
	AND AC.COMPANY_ID = IN_COMPANY_ID
ArInvoice1.sql.4.isbs=SELECT D.NAME AS DIVISION_NAME, D.DIVISION_ID, A.ACCOUNT_NAME, A.ACCOUNT_ID, A.PARENT_ACCOUNT_ID, \
	COALESCE(ARI.DISCOUNT, 0) as DEBIT, 0 as CREDIT, AT.ACCOUNT_TYPE_ID, A.NUMBER as ACCT_NO, AR.DATE AS DATE \
	FROM SERIAL_ITEM ARI \
	INNER JOIN OBJECT_TO_OBJECT OO ON OO.TO_OBJECT_ID = ARI.EB_OBJECT_ID \
	INNER JOIN AR_INVOICE AR ON AR.EB_OBJECT_ID = OO.FROM_OBJECT_ID \
	INNER JOIN ITEM I ON I.ITEM_ID = ARI.ITEM_ID \
	INNER JOIN ITEM_CATEGORY_ACCOUNT_SETUP ICAS ON I.ITEM_CATEGORY_ID = ICAS.ITEM_CATEGORY_ID \
	INNER JOIN ACCOUNT_COMBINATION AC ON (AC.ACCOUNT_COMBINATION_ID = ICAS.SALES_DISCOUNT_ACCOUNT AND AC.COMPANY_ID = AR.COMPANY_ID) \
	INNER JOIN DIVISION D ON D.DIVISION_ID = AC.DIVISION_ID \
	INNER JOIN ACCOUNT A ON A.ACCOUNT_ID = AC.ACCOUNT_ID \
	INNER JOIN ACCOUNT_TYPE AT ON AT.ACCOUNT_TYPE_ID = A.ACCOUNT_TYPE_ID \
	INNER JOIN FORM_WORKFLOW FW ON FW.FORM_WORKFLOW_ID = AR.FORM_WORKFLOW_ID \
	WHERE FW.CURRENT_STATUS_ID != 4 \
	AND AR.AR_INVOICE_TYPE_ID = 1 \
	AND OO.OR_TYPE_ID = 12006 \
	AND ARI.ACTIVE = 1 \
	AND ARI.DISCOUNT IS NOT NULL \
	AND ICAS.COMPANY_ID = AC.COMPANY_ID \
	AND AC.COMPANY_ID = IN_COMPANY_ID
ArInvoice1.sql.5.isbs=SELECT D.NAME AS DIVISION_NAME, D.DIVISION_ID, A.ACCOUNT_NAME, A.ACCOUNT_ID, A.PARENT_ACCOUNT_ID, \
	AR.AMOUNT as DEBIT, 0 as CREDIT, AT.ACCOUNT_TYPE_ID, A.NUMBER as ACCT_NO, AR.DATE AS DATE \
	FROM AR_INVOICE AR \
	INNER JOIN AR_CUSTOMER_ACCOUNT ACA ON ACA.AR_CUSTOMER_ACCOUNT_ID = AR.AR_CUSTOMER_ACCOUNT_ID \
	INNER JOIN ACCOUNT_COMBINATION AC ON (AC.ACCOUNT_COMBINATION_ID = ACA.DEFAULT_DEBIT_AC_ID AND AC.COMPANY_ID = AR.COMPANY_ID) \
	INNER JOIN DIVISION D ON D.DIVISION_ID = AC.DIVISION_ID \
	INNER JOIN ACCOUNT A ON A.ACCOUNT_ID = AC.ACCOUNT_ID \
	INNER JOIN ACCOUNT_TYPE AT ON AT.ACCOUNT_TYPE_ID = A.ACCOUNT_TYPE_ID \
	INNER JOIN FORM_WORKFLOW FW ON AR.FORM_WORKFLOW_ID = FW.FORM_WORKFLOW_ID \
	WHERE FW.CURRENT_STATUS_ID != 4 \
	AND AR.AR_INVOICE_TYPE_ID = 1 \
	AND AR.COMPANY_ID = AC.COMPANY_ID \
	AND AC.COMPANY_ID = IN_COMPANY_ID
# VAT
ArInvoice1.sql.6.isbs=SELECT D.NAME AS DIVISION_NAME, D.DIVISION_ID, A.ACCOUNT_NAME, A.ACCOUNT_ID, A.PARENT_ACCOUNT_ID, \
	COALESCE(ARI.VAT_AMOUNT, 0) as DEBIT, 0 as CREDIT, AT.ACCOUNT_TYPE_ID, A.NUMBER as ACCT_NO, AR.DATE AS DATE \
	FROM AR_INVOICE_ITEM ARI \
	INNER JOIN AR_INVOICE AR ON AR.AR_INVOICE_ID = ARI.AR_INVOICE_ID \
	INNER JOIN VAT_ACCOUNT_SETUP VAS ON IF(AR.DIVISION_ID IS NOT NULL, \
	(VAS.COMPANY_ID = AR.COMPANY_ID AND VAS.DIVISION_ID = AR.DIVISION_ID), VAS.COMPANY_ID = AR.COMPANY_ID) \
	INNER JOIN ACCOUNT_COMBINATION AC ON AC.ACCOUNT_COMBINATION_ID = VAS.OUTPUT_VAT_AC_ID \
	INNER JOIN DIVISION D ON D.DIVISION_ID = AC.DIVISION_ID \
	INNER JOIN ACCOUNT A ON A.ACCOUNT_ID = AC.ACCOUNT_ID \
	INNER JOIN ACCOUNT_TYPE AT ON AT.ACCOUNT_TYPE_ID = A.ACCOUNT_TYPE_ID \
	INNER JOIN FORM_WORKFLOW FW ON FW.FORM_WORKFLOW_ID = AR.FORM_WORKFLOW_ID \
	WHERE FW.CURRENT_STATUS_ID != 4 \
	AND AR.AR_INVOICE_TYPE_ID = 1 \
	AND ARI.TAX_TYPE_ID IN (1, 4, 5, 6) \
	AND AR.COMPANY_ID = IN_COMPANY_ID
ArInvoice1.sql.7.isbs=SELECT D.NAME AS DIVISION_NAME, D.DIVISION_ID, A.ACCOUNT_NAME, A.ACCOUNT_ID, A.PARENT_ACCOUNT_ID, \
	COALESCE(ARI.VAT_AMOUNT, 0) as DEBIT, 0 as CREDIT, AT.ACCOUNT_TYPE_ID, A.NUMBER as ACCT_NO, AR.DATE AS DATE \
	FROM SERIAL_ITEM ARI \
	INNER JOIN OBJECT_TO_OBJECT OO ON OO.TO_OBJECT_ID = ARI.EB_OBJECT_ID \
	INNER JOIN AR_INVOICE AR ON AR.EB_OBJECT_ID = OO.FROM_OBJECT_ID \
	INNER JOIN VAT_ACCOUNT_SETUP VAS ON IF(AR.DIVISION_ID IS NOT NULL, \
	(VAS.COMPANY_ID = AR.COMPANY_ID AND VAS.DIVISION_ID = AR.DIVISION_ID), VAS.COMPANY_ID = AR.COMPANY_ID) \
	INNER JOIN ACCOUNT_COMBINATION AC ON AC.ACCOUNT_COMBINATION_ID = VAS.OUTPUT_VAT_AC_ID \
	INNER JOIN DIVISION D ON D.DIVISION_ID = AC.DIVISION_ID \
	INNER JOIN ACCOUNT A ON A.ACCOUNT_ID = AC.ACCOUNT_ID \
	INNER JOIN ACCOUNT_TYPE AT ON AT.ACCOUNT_TYPE_ID = A.ACCOUNT_TYPE_ID \
	INNER JOIN FORM_WORKFLOW FW ON FW.FORM_WORKFLOW_ID = AR.FORM_WORKFLOW_ID \
	WHERE FW.CURRENT_STATUS_ID != 4 \
	AND AR.AR_INVOICE_TYPE_ID = 1 \
	AND OO.OR_TYPE_ID = 12006 \
	AND ARI.TAX_TYPE_ID IN (1, 4, 5, 6) \
	AND ARI.ACTIVE = 1 \
	AND AR.COMPANY_ID = IN_COMPANY_ID
# Withholding Tax
ArInvoice1.sql.8.isbs=SELECT D.NAME AS DIVISION_NAME, D.DIVISION_ID, A.ACCOUNT_NAME, A.ACCOUNT_ID, A.PARENT_ACCOUNT_ID, \
	AR.WT_AMOUNT as DEBIT, 0 as CREDIT, AT.ACCOUNT_TYPE_ID, A.NUMBER as ACCT_NO, AR.DATE AS DATE \
	FROM AR_INVOICE AR \
	INNER JOIN WT_ACCOUNT_SETTING WTAS ON WTAS.WT_ACCOUNT_SETTING_ID = AR.WT_ACCOUNT_SETTING_ID \
	INNER JOIN ACCOUNT_COMBINATION AC ON AC.ACCOUNT_COMBINATION_ID = WTAS.ACCOUNT_COMBINATION_ID \
	INNER JOIN DIVISION D ON D.DIVISION_ID = AC.DIVISION_ID \
	INNER JOIN ACCOUNT A ON A.ACCOUNT_ID = AC.ACCOUNT_ID \
	INNER JOIN ACCOUNT_TYPE AT ON AT.ACCOUNT_TYPE_ID = A.ACCOUNT_TYPE_ID \
	INNER JOIN FORM_WORKFLOW FW ON AR.FORM_WORKFLOW_ID = FW.FORM_WORKFLOW_ID \
	WHERE FW.CURRENT_STATUS_ID != 4 \
	AND AR.AR_INVOICE_TYPE_ID = 1 \
	AND AR.WT_ACCOUNT_SETTING_ID IS NOT NULL \
	AND AR.COMPANY_ID = IN_COMPANY_ID
ArInvoice1.sql.bs=AND AR.DATE <= IN_AS_OF_DATE \
	AND FW.IS_COMPLETE = 1
ArInvoice1.sql.is=AND AR.DATE BETWEEN IN_DATE_FROM AND IN_DATE_TO \
	AND FW.IS_COMPLETE = 1