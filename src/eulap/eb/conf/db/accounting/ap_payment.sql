
-- Description: sql script in creating AP_PAYMENT table.

DROP TABLE IF EXISTS AP_PAYMENT;
CREATE TABLE `AP_PAYMENT` (
  `AP_PAYMENT_ID` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `PAYMENT_TYPE_ID` INT(10) UNSIGNED DEFAULT NULL,
  `EB_OBJECT_ID` int(10) unsigned DEFAULT NULL,
  `FORM_WORKFLOW_ID` int(10) unsigned DEFAULT NULL,
  `BANK_ACCOUNT_ID` int(10) unsigned NOT NULL,
  `CHECKBOOK_ID` int(10) unsigned NOT NULL,
  `COMPANY_ID` int(10) unsigned NOT NULL,
  `DIVISION_ID` int(10) unsigned NOT NULL,
  `SUPPLIER_ID` int(10) unsigned NOT NULL,
  `SUPPLIER_ACCOUNT_ID` int(10) unsigned NOT NULL,
  `PAYMENT_DATE` date NOT NULL,
  `CHECK_NUMBER` decimal(20,0) DEFAULT NULL,
  `CHECK_DATE` date NOT NULL,
  `VOUCHER_NO` int(10) unsigned NOT NULL,
  `OFFICIAL_RECEIPT` varchar(30) DEFAULT NULL,
  `REMARKS` TEXT,
  `AMOUNT` double NOT NULL,
  `CURRENCY_ID` int(10) unsigned DEFAULT NULL,
  `CURRENCY_RATE_ID` int(10) unsigned DEFAULT NULL,
  `CURRENCY_RATE_VALUE` double DEFAULT 0,
  `CREATED_BY` int(10) unsigned NOT NULL,
  `CREATED_DATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `UPDATED_BY` int(10) unsigned NOT NULL,
  `UPDATED_DATE` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00',
  `PAYEE` varchar(50) DEFAULT NULL,
  `SPECIFY_PAYEE` tinyint(1) DEFAULT '0',
  PRIMARY KEY (`AP_PAYMENT_ID`),
  KEY `FK_AP_PAYMENT_CREATED_BY` (`CREATED_BY`),
  KEY `FK_AP_PAYMENT_UPDATED_BY` (`UPDATED_BY`),
  KEY `FK_AP_PAYMENT_BANK_ACCOUNT_ID` (`BANK_ACCOUNT_ID`),
  KEY `FK_AP_PAYMENT_CHECKBOOK_ID` (`CHECKBOOK_ID`),
  KEY `FK_AP_PAYMENT_COMPANY_ID` (`COMPANY_ID`),
  KEY `FK_AP_PAYMENT_DIVISION_ID` (`DIVISION_ID`),
  KEY `FK_AP_PAYMENT_SUPPLIER_ID` (`SUPPLIER_ID`),
  KEY `FK_AP_PAYMENT_SUPPLIER_ACCOUNT_ID` (`SUPPLIER_ACCOUNT_ID`),
  KEY `FK_AP_PAYMENT_FORM_WORKFLOW_ID` (`FORM_WORKFLOW_ID`),
  KEY `FK_AP_PAYMENT_EB_OBJECT_ID` (`EB_OBJECT_ID`),
  KEY `FK_PAYMENT_TYPE_ID` (`PAYMENT_TYPE_ID`),
  KEY `FK_PAYMENT_CURRENCY_ID` (`CURRENCY_ID`),
  KEY `FK_PAYMENT_CURRENCY_RATE_ID` (`CURRENCY_RATE_ID`),
  CONSTRAINT `FK_AP_PAYMENT_BANK_ACCOUNT_ID` FOREIGN KEY (`BANK_ACCOUNT_ID`) REFERENCES `BANK_ACCOUNT` (`BANK_ACCOUNT_ID`),
  CONSTRAINT `FK_AP_PAYMENT_CHECKBOOK_ID` FOREIGN KEY (`CHECKBOOK_ID`) REFERENCES `CHECKBOOK` (`CHECKBOOK_ID`),
  CONSTRAINT `FK_AP_PAYMENT_COMPANY_ID` FOREIGN KEY (`COMPANY_ID`) REFERENCES `COMPANY` (`COMPANY_ID`),
  CONSTRAINT `FK_AP_PAYMENT_DIVISION_ID` FOREIGN KEY (`DIVISION_ID`) REFERENCES `DIVISION` (`DIVISION_ID`),
  CONSTRAINT `FK_AP_PAYMENT_CREATED_BY` FOREIGN KEY (`CREATED_BY`) REFERENCES `USER` (`USER_ID`),
  CONSTRAINT `FK_AP_PAYMENT_FORM_WORKFLOW_ID` FOREIGN KEY (`FORM_WORKFLOW_ID`) REFERENCES `FORM_WORKFLOW` (`FORM_WORKFLOW_ID`),
  CONSTRAINT `FK_AP_PAYMENT_SUPPLIER_ACCOUNT_ID` FOREIGN KEY (`SUPPLIER_ACCOUNT_ID`) REFERENCES `SUPPLIER_ACCOUNT` (`SUPPLIER_ACCOUNT_ID`),
  CONSTRAINT `FK_AP_PAYMENT_SUPPLIER_ID` FOREIGN KEY (`SUPPLIER_ID`) REFERENCES `SUPPLIER` (`SUPPLIER_ID`),
  CONSTRAINT `FK_AP_PAYMENT_UPDATED_BY` FOREIGN KEY (`UPDATED_BY`) REFERENCES `USER` (`USER_ID`),
  CONSTRAINT `FK_AP_PAYMENT_EB_OBJECT_ID` FOREIGN KEY (`EB_OBJECT_ID`) REFERENCES `EB_OBJECT` (`EB_OBJECT_ID`),
  CONSTRAINT `FK_PAYMENT_TYPE_ID` FOREIGN KEY (`PAYMENT_TYPE_ID`) REFERENCES `PAYMENT_TYPE` (`PAYMENT_TYPE_ID`),
  CONSTRAINT `FK_PAYMENT_CURRENCY_ID` FOREIGN KEY (`CURRENCY_ID`) REFERENCES `CURRENCY` (`CURRENCY_ID`),
  CONSTRAINT `FK_PAYMENT_CURRENCY_RATE_ID` FOREIGN KEY (`CURRENCY_RATE_ID`) REFERENCES `CURRENCY_RATE` (`CURRENCY_RATE_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;