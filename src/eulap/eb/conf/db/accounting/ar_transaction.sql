
-- Description: Sql script for creating AR_TRANSACTION table
DROP TABLE IF EXISTS AR_TRANSACTION;
CREATE TABLE `AR_TRANSACTION` (
  `AR_TRANSACTION_ID` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `FORM_WORKFLOW_ID` int(10) unsigned DEFAULT NULL,
  `EB_OBJECT_ID` int(10) unsigned DEFAULT NULL,
  `EB_SL_KEY_ID` int(10) unsigned NOT NULL,
  `SEQUENCE_NO` int(10) unsigned NOT NULL,
  `AR_TRANSACTION_TYPE_ID` int(10) unsigned NOT NULL,
  `ACCOUNT_SALE_ID` int(10) unsigned DEFAULT NULL,
  `COMPANY_ID` int(10) unsigned DEFAULT NULL,
  `CUSTOMER_ID` int(10) unsigned NOT NULL,
  `CUSTOMER_ACCOUNT_ID` int(10) unsigned NOT NULL,
  `TERM_ID` int(10) unsigned NOT NULL,
  `TRANSACTION_NUMBER` varchar(100) NOT NULL DEFAULT '',
  `TRANSACTION_DATE` date NOT NULL,
  `GL_DATE` date DEFAULT NULL,
  `DUE_DATE` date DEFAULT NULL,
  `DESCRIPTION` text,
  `AMOUNT` double DEFAULT '0',
  `CREATED_BY` int(10) unsigned NOT NULL,
  `CREATED_DATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `UPDATED_BY` int(10) unsigned NOT NULL,
  `UPDATED_DATE` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00',
  PRIMARY KEY (`AR_TRANSACTION_ID`),
  KEY `FK_AR_TRANSACTION_EB_SL_KEY_ID` (`EB_SL_KEY_ID`),
  KEY `FK_AR_TRANSACTION_AR_TRANSACTION_TYPE_ID` (`AR_TRANSACTION_TYPE_ID`),
  KEY `FK_AR_TRANSACTION_EB_OBJECT_ID` (`EB_OBJECT_ID`),
  KEY `FK_AR_TRANSACTION_CUSTOMER_ID` (`CUSTOMER_ID`),
  KEY `FK_AR_TRANSACTION_CUSTOMER_ACCOUNT_ID` (`CUSTOMER_ACCOUNT_ID`),
  KEY `FK_AR_TRANSACTION_TERM_ID` (`TERM_ID`),
  KEY `FK_AR_TRANSACTION_CREATED_BY` (`CREATED_BY`),
  KEY `FK_AR_TRANSACTION_UPDATED_BY` (`UPDATED_BY`),
  KEY `FK_AR_TRANSACTION_FORM_WORKFLOW_ID` (`FORM_WORKFLOW_ID`),
  KEY `FK_AR_TRANSACTION_COMPANY_ID` (`COMPANY_ID`),
  CONSTRAINT `FK_AR_TRANSACTION_EB_OBJECT_ID` FOREIGN KEY (`EB_OBJECT_ID`) REFERENCES `EB_OBJECT` (`EB_OBJECT_ID`),
  CONSTRAINT `FK_AR_TRANSACTION_AR_TRANSACTION_TYPE_ID` FOREIGN KEY (`AR_TRANSACTION_TYPE_ID`) REFERENCES `AR_TRANSACTION_TYPE` (`AR_TRANSACTION_TYPE_ID`),
  CONSTRAINT `FK_AR_TRANSACTION_COMPANY_ID` FOREIGN KEY (`COMPANY_ID`) REFERENCES `COMPANY` (`COMPANY_ID`),
  CONSTRAINT `FK_AR_TRANSACTION_CREATED_BY` FOREIGN KEY (`CREATED_BY`) REFERENCES `USER` (`USER_ID`),
  CONSTRAINT `FK_AR_TRANSACTION_CUSTOMER_ACCOUNT_ID` FOREIGN KEY (`CUSTOMER_ACCOUNT_ID`) REFERENCES `AR_CUSTOMER_ACCOUNT` (`AR_CUSTOMER_ACCOUNT_ID`),
  CONSTRAINT `FK_AR_TRANSACTION_CUSTOMER_ID` FOREIGN KEY (`CUSTOMER_ID`) REFERENCES `AR_CUSTOMER` (`AR_CUSTOMER_ID`),
  CONSTRAINT `FK_AR_TRANSACTION_EB_SL_KEY_ID` FOREIGN KEY (`EB_SL_KEY_ID`) REFERENCES `EB_SL_KEY` (`EB_SL_KEY_ID`),
  CONSTRAINT `FK_AR_TRANSACTION_FORM_WORKFLOW_ID` FOREIGN KEY (`FORM_WORKFLOW_ID`) REFERENCES `FORM_WORKFLOW` (`FORM_WORKFLOW_ID`),
  CONSTRAINT `FK_AR_TRANSACTION_TERM_ID` FOREIGN KEY (`TERM_ID`) REFERENCES `TERM` (`TERM_ID`),
  CONSTRAINT `FK_AR_TRANSACTION_UPDATED_BY` FOREIGN KEY (`UPDATED_BY`) REFERENCES `USER` (`USER_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;