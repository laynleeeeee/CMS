
-- Description	: Create script for SUPPLIER_ADVANCE_PAYMENT table.

DROP TABLE IF EXISTS SUPPLIER_ADVANCE_PAYMENT;

CREATE TABLE SUPPLIER_ADVANCE_PAYMENT (
	SUPPLIER_ADVANCE_PAYMENT_ID int(10) unsigned NOT NULL AUTO_INCREMENT,
	FORM_WORKFLOW_ID int(10) unsigned NOT NULL,
	EB_OBJECT_ID int(10) unsigned DEFAULT NULL,
	SEQUENCE_NO int(10) unsigned NOT NULL,
	COMPANY_ID int(10) unsigned NOT NULL,
	DIVISION_ID int(10) unsigned DEFAULT NULL,
	R_PURCHASE_ORDER_ID int(10) unsigned NOT NULL,
	DATE DATE NOT NULL,
	SUPPLIER_ID int(10) unsigned NOT NULL,
	SUPPLIER_ACCOUNT_ID int(10) unsigned NOT NULL,
	BMS_NUMBER varchar(50) DEFAULT NULL,
	INVOICE_DATE DATE NOT NULL,
	GL_DATE DATE NOT NULL,
	DUE_DATE DATE NOT NULL,
	REFERENCE_NO varchar(100) NOT NULL,
	REQUESTOR varchar(100) NOT NULL,
	REMARKS TEXT,
	CURRENCY_ID int(10) unsigned DEFAULT NULL,
	CURRENCY_RATE_ID int(10) unsigned DEFAULT NULL,
	CURRENCY_RATE_VALUE double DEFAULT 0,
	AMOUNT double DEFAULT 0,
	CREATED_BY int(10) unsigned NOT NULL,
	CREATED_DATE timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
	UPDATED_BY int(10) unsigned NOT NULL,
	UPDATED_DATE timestamp NOT NULL DEFAULT '0000-00-00 00:00:00',
	PRIMARY KEY (SUPPLIER_ADVANCE_PAYMENT_ID),
	KEY FK_SAP_FORM_WORKFLOW_ID (FORM_WORKFLOW_ID),
	KEY FK_SAP_EB_OBJECT_ID (EB_OBJECT_ID),
	KEY FK_SAP_COMPANY_ID (COMPANY_ID),
	KEY FK_SAP_DIVISION_ID (DIVISION_ID),
	KEY FK_SAP_R_PURCHASE_ORDER_ID (R_PURCHASE_ORDER_ID),
	KEY FK_SAP_SUPPLIER_ID (SUPPLIER_ID),
	KEY FK_SAP_SUPPLIER_ACCOUNT_ID (SUPPLIER_ACCOUNT_ID),
	KEY FK_SAP_CURRENCY_ID (CURRENCY_ID),
	KEY FK_SAP_CURRENCY_RATE_ID (CURRENCY_RATE_ID),
	KEY FK_SAP_CREATED_BY (CREATED_BY),
	KEY FK_SAP_UPDATED_BY (UPDATED_BY),
	CONSTRAINT FK_SAP_FORM_WORKFLOW_ID FOREIGN KEY (FORM_WORKFLOW_ID) REFERENCES FORM_WORKFLOW (FORM_WORKFLOW_ID),
	CONSTRAINT FK_SAP_EB_OBJECT_ID FOREIGN KEY (EB_OBJECT_ID) REFERENCES EB_OBJECT (EB_OBJECT_ID),
	CONSTRAINT FK_SAP_COMPANY_ID FOREIGN KEY (COMPANY_ID) REFERENCES COMPANY (COMPANY_ID),
	CONSTRAINT FK_SAP_DIVISION_ID FOREIGN KEY (DIVISION_ID) REFERENCES DIVISION (DIVISION_ID),
	CONSTRAINT FK_SAP_R_PURCHASE_ORDER_ID FOREIGN KEY (R_PURCHASE_ORDER_ID) REFERENCES R_PURCHASE_ORDER (R_PURCHASE_ORDER_ID),
	CONSTRAINT FK_SAP_SUPPLIER_ID FOREIGN KEY (SUPPLIER_ID) REFERENCES SUPPLIER (SUPPLIER_ID),
	CONSTRAINT FK_SAP_SUPPLIER_ACCOUNT_ID FOREIGN KEY (SUPPLIER_ACCOUNT_ID) REFERENCES SUPPLIER_ACCOUNT (SUPPLIER_ACCOUNT_ID),
	CONSTRAINT FK_SAP_CURRENCY_ID FOREIGN KEY (CURRENCY_ID) REFERENCES CURRENCY (CURRENCY_ID),
	CONSTRAINT FK_SAP_CURRENCY_RATE_ID FOREIGN KEY (CURRENCY_RATE_ID) REFERENCES CURRENCY_RATE (CURRENCY_RATE_ID),
	CONSTRAINT FK_SAP_CREATED_BY FOREIGN KEY (CREATED_BY) REFERENCES USER (USER_ID),
	CONSTRAINT FK_SAP_UPDATED_BY FOREIGN KEY (UPDATED_BY) REFERENCES USER (USER_ID)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;